/* ===================================================
 * bootstrap-transition.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery);!function(e){"use strict";function r(){e(t).each(function(){i(e(this)).removeClass("open")})}function i(t){var n=t.attr("data-target"),r;if(!n){n=t.attr("href");n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")}r=n&&e(n);if(!r||!r.length)r=t.parent();return r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;s=i(n);o=s.hasClass("open");r();o||s.toggleClass("open");n.focus();return!1},keydown:function(n){var r,s,o,u,a,f;if(!/(38|40|27)/.test(n.keyCode))return;r=e(this);n.preventDefault();n.stopPropagation();if(r.is(".disabled, :disabled"))return;u=i(r);a=u.hasClass("open");if(!a||a&&n.keyCode==27){n.which==27&&u.find(t).focus();return r.click()}s=e("[role=menu] li:not(.divider):visible a",u);if(!s.length)return;f=s.index(s.filter(":focus"));n.keyCode==38&&f>0&&f--;n.keyCode==40&&f<s.length-1&&f++;~f||(f=0);s.eq(f).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this));typeof t=="string"&&i[t].call(r)})};e.fn.dropdown.Constructor=n;e.fn.dropdown.noConflict=function(){e.fn.dropdown=s;return this};e(document).on("click.dropdown.data-api",r).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery);!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s,o,u,a;this.type=t;this.$element=e(n);this.options=this.getOptions(r);this.enabled=!0;o=this.options.trigger.split(" ");for(a=o.length;a--;){u=o[a];if(u=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(u!="manual"){i=u=="hover"?"mouseenter":"focus";s=u=="hover"?"mouseleave":"blur";this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this));this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t);t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay});return t},enter:function(t){var n=e.fn[this.type].defaults,r={},i;this._options&&e.each(this._options,function(e,t){n[e]!=t&&(r[e]=t)},this);i=e(t.currentTarget)[this.type](r).data(this.type);if(!i.options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout);i.hoverState="in";this.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out";this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var t,n,r,i,s,o,u=e.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(u);if(u.isDefaultPrevented())return;t=this.tip();this.setContent();this.options.animation&&t.addClass("fade");s=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement;t.detach().css({top:0,left:0,display:"block"});this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element);n=this.getPosition();r=t[0].offsetWidth;i=t[0].offsetHeight;switch(s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(o,s);this.$element.trigger("shown")}},applyPlacement:function(e,t){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,s,o,u,a;n.offset(e).addClass(t).addClass("in");s=n[0].offsetWidth;o=n[0].offsetHeight;if(t=="top"&&o!=i){e.top=e.top+i-o;a=!0}if(t=="bottom"||t=="top"){u=0;if(e.left<0){u=e.left*-2;e.left=0;n.offset(e);s=n[0].offsetWidth;o=n[0].offsetHeight}this.replaceArrow(u-r+s,s,"left")}else this.replaceArrow(o-i,o,"top");a&&n.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t);e.removeClass("fade in top bottom left right")},hide:function(){function i(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t);n.detach()})}var t=this,n=this.tip(),r=e.Event("hide");this.$element.trigger(r);if(r.isDefaultPrevented())return;n.removeClass("in");e.support.transition&&this.$tip.hasClass("fade")?i():n.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title);return e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.tooltip.Constructor=t;e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};e.fn.tooltip.noConflict=function(){e.fn.tooltip=n;return this}}(window.jQuery);!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t);e.find(".popover-content")[this.options.html?"html":"text"](n);e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;e=(typeof n.content=="function"?n.content.call(t[0]):n.content)||t.attr("data-content");return e},tip:function(){this.$tip||(this.$tip=e(this.options.template));return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.popover.Constructor=t;e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});e.fn.popover.noConflict=function(){e.fn.popover=n;return this}}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n);this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this));this.$element=e(t);this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i);typeof o=="function"&&(o=i.top());typeof s=="function"&&(s=i.bottom());a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a;this.unpin=a=="bottom"?r.top-n:null;this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.affix.Constructor=t;e.fn.affix.defaults={offset:0};e.fn.affix.noConflict=function(){e.fn.affix=n;return this};e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{};n.offsetBottom&&(n.offset.bottom=n.offsetBottom);n.offsetTop&&(n.offset.top=n.offsetTop);t.affix(n)})})}(window.jQuery);!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;if(!r){r=n.attr("href");r=r&&r.replace(/.*(?=#[^\s]*$)/,"")}i=e(r);t&&t.preventDefault();i.length||(i=n.hasClass("alert")?n:n.parent());i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in");e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this));typeof t=="string"&&i[t].call(r)})};e.fn.alert.Constructor=n;e.fn.alert.noConflict=function(){e.fn.alert=r;return this};e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.$element=e(t);this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text";r.resetText||n.data("resetText",n[i]());n[i](r[e]||this.options[e]);setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)};t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active");this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s));n=="toggle"?i.toggle():n&&i.setState(n)})};e.fn.button.defaults={loadingText:"loading..."};e.fn.button.Constructor=t;e.fn.button.noConflict=function(){e.fn.button=n;return this};e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn"));n.button("toggle")})}(window.jQuery);$(document).ready(function(){function s(e,t){var n="";t==="warning"?n+="<div class='alert fade in'>":n+="<div class='alert alert-error fade in'>";n+="<button type='button' class='close' data-dismiss='alert'>&times;</button>";n+="<strong>Alert!</strong>"+e;n+="</div>";$(".container").append(n)}function o(e){if($(e).val()===""){$(e).parent(".controls").parent(".control-group").addClass("error");$(e).parent(".controls").children(".help-inline").remove();$(e).parent(".controls").append('<span class="help-inline">Required input</span>');return!1}return!0}function u(e,t){$(e).parent(".controls").parent(".control-group").addClass("error");$(e).parent(".controls").children(".help-inline").remove();$(e).parent(".controls").append('<span class="help-inline">'+t+"</span>")}function a(){var e=o("#doctorFirst"),t=o("#doctorLast"),n=o("#doctorssn"),r=o("#doctorAddress"),i=o("#doctorPhone"),s=o("#doctorBirth"),u=o("#doctorSalary"),a=o("#doctorSpecialty");return e&&t&&n&&r&&i&&s&&u&&a?!0:!1}function f(){var e=o("#patientFirst"),t=o("#patientLast"),n=o("#patientssn"),r=o("#patientAddress"),i=o("#patientPhone"),s=o("#patientBirth"),u=o("#patientBill"),a=o("#patientAdmit"),f=o("#patientDoctor");return e&&t&&n&&r&&i&&s&&u&&a&&f?!0:!1}function l(e){e.preventDefault();if(a()){var t=$("#doctorForm").serialize(),n=$("#doctorForm").attr("action");$.post(n,t,function(e){var t="Invalid input";e==="invalidFirst"?u("#doctorFirst",t):e==="invalidLast"?u("#doctorLast",t):e==="invalidSSN"?u("#doctorssn",t):e==="duplicateSSN"?u("#doctorssn","User already exists"):e==="invalidPhone"?u("#doctorPhone",t):e==="invalidBirth"?u("#doctorBirth",t):e==="invalidSalary"?u("#doctorSalary",t):e==="invalidSpecialty"?u("#doctorSpecialty",t):e==="success"?window.location.reload():s("Something went wrong","error")})}}function c(e){e.preventDefault();if(f()){var t=$("#patientForm").serialize(),n=$("#patientForm").attr("action");$.post(n,t,function(e){var t="Invalid input";e==="invalidFirst"?u("#patientFirst",t):e==="invalidLast"?u("#patientLast",t):e==="invalidSSN"?u("#patientssn",t):e==="duplicateSSN"?u("#patientssn","User already exists"):e==="invalidPhone"?u("#patientPhone",t):e==="invalidBirth"?u("#patientBirth",t):e==="invalidBill"?u("#patientBill",t):e==="invalidIllness"?u("#patientIllness",t):e==="invalidAdmit"?u("#patientAdmit",t):e==="invalidDoctor"?u("#patientDoctor",t):e==="success"?window.location.reload():s(e,"error")})}}function h(e){e.preventDefault();var t=$("#searchBar").val(),n={searchBar:t};r===""&&s("Select a search type","warning");if(t==="")s("No input detected","warning");else if(r==="Specialty"){$("#searchResults").empty().load("php/searchSpecialty.php",n);$(".alert").alert("close")}else if(r==="Illness"){$("#searchResults").empty().load("php/searchIllness.php",n);$(".alert").alert("close")}}function p(){var e={};if(n==="Doctor"||r==="Specialty"){e={personID:i};$("#profileView").empty().load("php/profileDoctor.php",e)}else if(n==="Patient"||r==="Illness"){e={personID:i};$("#profileView").empty().load("php/profilePatient.php",e)}}function d(){var e=o("#editDoctorFirst"),t=o("#editDoctorLast"),n=o("#editDoctorAddress"),r=o("#editDoctorPhone"),i=o("#editDoctorBirth"),s=o("#editDoctorSalary"),u=o("#editDoctorSpecialty");return e&&t&&n&&r&&i&&s&&u?!0:!1}function v(){var e=o("#editPatientFirst"),t=o("#editPatientLast"),n=o("#editPatientAddress"),r=o("#editPatientPhone"),i=o("#editPatientBirth"),s=o("#editPatientBill"),u=o("#editPatientAdmit"),a=o("#editPatientDoctor");return e&&t&&n&&r&&i&&s&&u&&a?!0:!1}function m(e){e.preventDefault();if(d()){var t=$("#editDoctorForm").serialize();t+="&editDoctorssn="+$("#editDoctorssn").val();var n=$("#editDoctorForm").attr("action");$.post(n,t,function(e){var t="Invalid input";e==="invalidFirst"?u("#editDoctorFirst",t):e==="invalidLast"?u("#editDoctorLast",t):e==="invalidPhone"?u("#editDoctorPhone",t):e==="invalidBirth"?u("#editDoctorBirth",t):e==="invalidSalary"?u("#editDoctorSalary",t):e==="invalidSpecialty"?u("#editDoctorSpecialty",t):e==="success"?window.location.reload():s("Something went wrong","error")})}}function g(e){e.preventDefault();if(v()){var t=$("#editPatientForm").serialize();t+="&editPatientssn="+$("#editPatientssn").val();var n=$("#editPatientForm").attr("action");$.post(n,t,function(e){var t="Invalid input";e==="invalidFirst"?u("#editPatientFirst",t):e==="invalidLast"?u("#editPatientLast",t):e==="invalidPhone"?u("#editPatientPhone",t):e==="invalidBirth"?u("#editPatientBirth",t):e==="invalidBill"?u("#editPatientBill",t):e==="invalidIllness"?u("#editPatientIllness",t):e==="invalidAdmit"?u("#editPatientAdmit",t):e==="invalidDoctor"?u("#editPatientDoctor",t):e==="success"?window.location.reload():s("Something went wrong","error")})}}var e="opening",t="",n="",r="",i="";$("input").focus(function(){$(this).parent(".controls").parent(".control-group").removeClass("error");$(this).parent(".controls").children(".help-inline").remove()});$(".add").click(function(){e==="opening"?$("#opening").fadeOut("fast"):e==="list"?$("#listView").fadeOut("fast"):e==="search"?$("#searchView").fadeOut("fast"):e==="profile"?$("#profileView").fadeOut("fast").empty():e==="edit"&&$("#editView").fadeOut("fast").empty();$("#addView").delay(500).fadeIn("fast");e="add"});$(".list").click(function(){e==="opening"?$("#opening").fadeOut("fast"):e==="add"?$("#addView").fadeOut("fast"):e==="search"?$("#searchView").fadeOut("fast"):e==="profile"?$("#profileView").fadeOut("fast").empty():e==="edit"&&$("#editView").fadeOut("fast").empty();$("#listView").delay(500).fadeIn("fast");e="list"});$(".search").click(function(){e==="opening"?$("#opening").fadeOut("fast"):e==="list"?$("#listView").fadeOut("fast"):e==="add"?$("#addView").fadeOut("fast"):e==="profile"?$("#profileView").fadeOut("fast").empty():e==="edit"&&$("#editView").fadeOut("fast").empty();$("#searchView").delay(500).fadeIn("fast");e="search"});$("#doctorToggle").click(function(){if(t==="")$("#doctorForm").fadeIn("fast");else{$("#patientForm").fadeOut("fast");$("#doctorForm").delay(500).fadeIn("fast")}t="Doctor"});$("#patientToggle").click(function(){if(t==="")$("#patientForm").fadeIn("fast");else{$("#doctorForm").fadeOut("fast");$("#patientForm").delay(500).fadeIn("fast")}t="Patient"});$("#doctorForm").submit(l);$("#patientForm").submit(c);$("#listSelect").change(function(){var e=$(this).val();if(e==="All Doctors"){$("#listResults").empty().load("php/listDoctors.php");n="Doctor"}else if(e==="Diagnosed Patients"){$("#listResults").empty().load("php/listPatients.php",{type:"diagnosed"});n="Patient"}else if(e==="Undiagnosed Patients"){$("#listResults").empty().load("php/listPatients.php",{type:"undiagnosed"});n="Patient"}else if(e==="Released Patients"){$("#listResults").empty().load("php/listPatients.php",{type:"released"});n="Patient"}else $("#listResults").empty()});$("#searchSpecialty").click(function(){$("#searchDropdown").button("s");r="Specialty"});$("#searchIllness").click(function(){$("#searchDropdown").button("i");r="Illness"});$("#searchForm").submit(h);$("#listResults").on("click",".listItem",function(){i=this.id;p(i);$("#listView").fadeOut("fast");$("#profileView").delay(500).fadeIn("fast");e="profile"});$("#searchResults").on("click",".searchItem",function(){i=this.id;p();$("#searchView").fadeOut("fast");$("#profileView").delay(500).fadeIn("fast");e="profile"});$("#profileView").on("click",".profileEditDoctorButton",function(){$("#editView").empty().load("php/editDoctor.php",{personID:i});$("#profileView").fadeOut("fast");$("#editView").delay(500).fadeIn("fast");e="edit"});$("#profileView").on("click",".profileEditPatientButton",function(){$("#editView").empty().load("php/editPatient.php",{personID:i});$("#profileView").fadeOut("fast");$("#editView").delay(500).fadeIn("fast");e="edit"});$("#editView").on("submit","#editDoctorForm",m);$("#editView").on("submit","#editPatientForm",g);$("#editView").on("click","#fireDoctor",function(){var e=confirm("Are you sure?");e&&$.post("php/removeDoctor.php",{personID:i},function(e){e==="success"?window.location.reload():s("Something went wrong","warning")})});$("#editView").on("click","#dismissPatient",function(){var e=confirm("Are you sure?");if(e){var t=prompt("Enter the dismissal date");t!==null&&t!==""&&$.post("php/removePatient.php",{personID:i,dismiss:t},function(e){e==="invalidDismiss"?s("Invalid date","warning"):e==="success"?window.location.reload():s(e,"error")})}})});